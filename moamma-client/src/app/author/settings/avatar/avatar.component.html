<div class="avatar-box">
  <div class="container">
    <div class="row">
      <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
        <div class="avatar-header">
          <div class="title-box">
            <div class="text">تغییرآواتار</div>
          </div>
          <form class="text-center p-2 bg-faded m-auto" (ngSubmit)="onSubmit()">
            <div class="form-group p-2">
              <img id="upimg" class="uploaded-preview"
                [src]="imageSrc!= null ? imageSrc : 'assets/author-default.png'" />
              <input id="upload" (change)="onUploadMyImg($event)" accept="image/*"
                type="file" name="upload" class="form-control-file">

            </div>
            <a class="btn btn-secondary  w-25 d-inline-block mx-2" asp-action="index">انصراف</a>
            <input class="btn btn-primary w-25 d-inline-block mx-2" [disabled]='uploadedImage==null' type="submit"
              value="ذخیره" />
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  function uploadMyImg(input) {
    if (input.files && input.files[0]) {
      var reader = new FileReader();
      reader.onload = function (e) {
        $('#upimg')
          .attr('src', e.target.result);
      };
      reader.readAsDataURL(input.files[0]);
    }
  }
</script>
